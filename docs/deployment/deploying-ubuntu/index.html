---
layout: docs-layout
title: OpenVidu Documentation - Deploying OpenVidu on Ubuntu
active: documentation
---

<script src="/js/plugins/jquery.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('Deploying OpenVidu on Ubuntu')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('Deploying OpenVidu on Ubuntu')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../home/">What is OpenVidu?</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Tutorials</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/">Intro</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-webcomponent/">openvidu-webcomponent</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-hello-world/">openvidu-hello-world</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-library-angular/">openvidu-library-angular</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-react/">openvidu-insecure-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-library-react/">openvidu-library-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-ionic/">openvidu-ionic</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Demos</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-call/">openvidu-call</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-call-react/">openvidu-call-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-call-ionic/">openvidu-call-ionic</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-classroom/">openvidu-classroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Cheatsheet</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/join-session/">Join a session</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/leave-session/">Leave a session</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/subscribe-unsubscribe/">Subscribe/Unsubscribe from a stream</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/publish-unpublish/">Publish/Unpublish a stream</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/mute-audio-video/">Mute/Unmute audio and video</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/manage-videos/">Manage video players</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/share-data/">Share data between users</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/send-messages/">Send text messages</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Advanced features</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/recording/">Recording</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/screen-share/">Screen share</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/speech-detection/">Speech detection</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/filters/">Voice and video filters</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Reference Documentation</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-browser/">openvidu-browser API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-java-client/">openvidu-java-client API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-node-client/">openvidu-node-client API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/REST-API/">REST  API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-server-params/">OpenVidu Server configuration</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-server-cdr/">OpenVidu Server CDR</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Deployment</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../deploying-demos-aws/">Deploying OpenVidu Demos on AWS (TUTORIAL)</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../deploying-aws/">Deploying OpenVidu on AWS</a> 
</li>

  

<li class="toctree-l1 current">
        <a class="current" href="./">Deploying OpenVidu on Ubuntu</a>  
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../deploying-app/">Deploying your OpenVidu app</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../upgrading/">Upgrading OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Contribute</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/">Troubleshooting / FAQ</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../releases/">Releases</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li  style="width: 100%; display: inline-block"  class="subnav_drop">
        <div><span>OpenVidu Pro</span><a style="all: unset; display: inline"
                        href="/docs/openvidu-pro/">
                        <div id="openvidu-pro-tag" style="float: right; background-color: rgb(0, 136, 170); color: white; font-weight: bold; padding: 0px 5px; border-radius: 3px; font-size: 13px; line-height:21px; font-family: Montserrat, sans-serif;">PRO</div>
                </a></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/">Home</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/openvidu-inspector/">OpenVidu Inspector</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/detailed-session-monitoring/">Detailed session monitoring</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/deploying-openvidu-pro/">Deploying OpenVidu Pro</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/REST-API-pro/">REST API Pro</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h2 id="section-title">Deploying OpenVidu on Ubuntu</h2>

<hr>

<h2 id="installation-process">Installation process</h2>
<p><strong>Ubuntu Xenial 16.04</strong> and <strong>Ubuntu Bionic 18.04</strong> are supported (see <a href="#ubuntu-bionic-limitations">Ubuntu Bionic limitations</a>).</p>
<h4 id="1-install-kms">1. Install KMS</h4>
<p><strong>Ubuntu Xenial 16.04</strong></p>
<pre><code class="bash">sudo echo &quot;deb [arch=amd64] http://ubuntu.openvidu.io/6.9.0 xenial kms6&quot; | sudo tee /etc/apt/sources.list.d/kurento.list
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 5AFA7A83
sudo apt-get update
sudo apt-get -y install kurento-media-server
</code></pre>

<p><strong>Ubuntu Bionic 18.04</strong></p>
<pre><code class="bash">sudo echo &quot;deb [arch=amd64] http://ubuntu.openvidu.io/6.9.0 bionic kms6&quot; | sudo tee /etc/apt/sources.list.d/kurento.list
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 5AFA7A83
sudo apt-get update
sudo apt-get -y install kurento-media-server
</code></pre>

<p>After installing KMS, it is necessary to change the default user running it to the current one with this line:</p>
<pre><code class="bash">sudo sed -i &quot;s/DAEMON_USER=\&quot;kurento\&quot;/DAEMON_USER=\&quot;${USER}\&quot;/g&quot; /etc/default/kurento-media-server
</code></pre>

<h4 id="2-install-coturn">2. Install COTURN</h4>
<pre><code class="bash">sudo apt-get -y install coturn
</code></pre>

<blockquote>
<p>This is a great implementation of a STUN/TURN server, necessary for connecting your users under some complicated circumstances. You can check its documentation <a href="https://github.com/coturn/coturn" target="_blank">here</a>.</p>
</blockquote>
<h4 id="3-install-redis">3. Install Redis</h4>
<pre><code class="bash">sudo apt-get -y install redis-server
</code></pre>

<h4 id="4-file-etckurentomoduleskurentowebrtcendpointconfini">4. File <code>/etc/kurento/modules/kurento/WebRtcEndpoint.conf.ini</code></h4>
<pre><code class="console">stunServerAddress=YOUR_MACHINE_PUBLIC_IP
stunServerPort=3478
</code></pre>

<h4 id="5-file-etcturnserverconf">5. File <code>/etc/turnserver.conf</code></h4>
<pre><code class="console">external-ip=YOUR_MACHINE_PUBLIC_IP
listening-port=3478
fingerprint
lt-cred-mech
max-port=65535
min-port=49152
pidfile=&quot;/var/run/turnserver.pid&quot;
realm=openvidu
simple-log
redis-userdb=&quot;ip=127.0.0.1 dbname=0 password=turn connect_timeout=30&quot;
verbose
</code></pre>

<h4 id="6-file-etcdefaultcoturn">6. File <code>/etc/default/coturn</code></h4>
<pre><code class="bash">TURNSERVER_ENABLED=1
</code></pre>

<h4 id="7-init-services">7. Init services</h4>
<pre><code class="bash">sudo service redis-server restart
sudo service coturn restart
sudo service kurento-media-server restart
</code></pre>

<h4 id="8-init-openvidu-server-jar-executable">8. Init Openvidu Server JAR executable</h4>
<pre><code class="console">java -jar -Dopenvidu.secret=YOUR_SECRET -Dopenvidu.publicurl=https://YOUR_MACHINE_PUBLIC_IP:4443/ openvidu-server-{VERSION}.jar
</code></pre>

<p>Being <code>YOUR_SECRET</code> the password you want for securing your OpenVidu Server. This will be needed for connecting to OpenVidu Server dashboard and for consuming OpenVidu Server REST API. Keep it safe!</p>
<p><br></p>
<blockquote>
<p><strong>1)</strong> You will need Java 8 to run OpenVidu Server:</p>
<p><code>sudo apt-get install -y openjdk-8-jre</code></br></p>
<p><strong>2)</strong> You can get any <a href="../../releases/" target="_blank">version</a> of OpenVidu Server running:</p>
<p><code>wget https://github.com/OpenVidu/openvidu/releases/download/v{VERSION}/openvidu-server-{VERSION}.jar</code></br></p>
<p><strong>3)</strong> If you want to enable recording module of OpenVidu Server to record your sessions, you must install <a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/" target="_blank">Docker CE</a> and add <a href="../../advanced-features/recording/#2-launch-openvidu-server-with-new-properties" target="_blank">some more system properties</a> to the <code>java -jar</code> command. Check out <a href="../../advanced-features/recording" target="_blank">Recording</a> section to learn more</p>
</blockquote>
<p><br>
Go to <a href="#using-your-own-certificate">Using your own certificate</a> to add your certificate to the JAR instead of using the self-signed default one (which will launch a security warning on the user's browser).</p>
<h4 id="9-finally-check-your-server">9. Finally check your server</h4>
<p>You can connect to OpenVidu dashboard through <code>https://YOUR_OPENVIDU_SERVER_MACHINE_PUBLIC_IP:4443</code> (authorization is <code>OPENVIDUAPP:YOUR_SECRET</code>). Make sure you allow TCP and UDP inbound connections to your machine!</p>
<p>To connect your application to OpenVidu Server, use the same URL <code>https://YOUR_OPENVIDU_SERVER_MACHINE_PUBLIC_IP:4443</code>. To learn more, check out <a href="../../deployment/deploying-app/#connecting-your-external-app-to-openvidu" target="_blank">Connecting your app to OpenVidu</a>.</p>
<p><br></p>
<hr />
<h2 id="server-network-requirements">Server network requirements</h2>
<p>In order for this deployment to work, you will have to meet 2 sets of needs in the machine hosting your services:</p>
<ul>
<li>
<p>First of all, you certainly need the machine to have a <strong>public, reachable IP</strong>. The reason is pretty simple: we are precisely installing <em>COTURN</em> service to cover those situations where the final users are hidden behind NATs or complex networks (<strong><a href="../../troubleshooting#6-what-are-stun-and-turn-servers-and-why-do-i-need-them" target="_blank">learn more</a></strong>). If the <em>COTURN</em> itself is running inside an unreachable machine, your video transmission will probably fail.</p>
</li>
<li>
<p>Besides, the server needs some <strong>ports</strong> opened in the firewall:</p>
<ul>
<li><strong>4443 TCP</strong> (<em>OpenVidu Server</em> listens on port 4443 by default)</li>
<li><strong>3478 TCP</strong> (<em>COTURN</em> listens on port 3478 by default)</li>
<li><strong>49152 - 65535 UDP</strong> (these ports are strongly recommended to be opened, as WebRTC randomly exchanges media through any of them)</li>
</ul>
</li>
</ul>
<blockquote>
<p>If you were still in trouble, we provide a ready-to-use Amazon CloudFormation Stack to easily deploy OpenVidu in just a few minutes <a href="../../deployment/deploying-aws" target="_blank">here</a>.</p>
</blockquote>
<p><br></p>
<hr />
<h2 id="using-your-own-certificate">Using your own certificate</h2>
<p>OpenVidu Server is a Java application and therefore needs a Java keystore (<strong>.jks</strong>) for providing security certificates. If you don't have it, you can easily obtain a <strong>.jks</strong> file from your certificate and private key files (<strong>.crt</strong> and <strong>.key</strong> respectively, or maybe both of them being <strong>.pem</strong>). You do so by using <strong><em>openssl</em></strong> and <strong><em>keytool</em></strong> :</p>
<pre><code class="bash"># Export certificate in p12 format (password will be asked)
# YOUR_CRT.crt and YOUR_KEY.key files may be YOUR_CRT.pem and YOUR_KEY.pem files instead
openssl pkcs12 -export -name YOUR_KEYSTORE_ALIAS -in YOUR_CRT.crt -inkey YOUR_PRIVATE_KEY.key -out p12keystore.p12

# Generate jks (password will be asked again)
keytool -importkeystore -srckeystore p12keystore.p12 -srcstoretype pkcs12 -deststoretype pkcs12 -alias YOUR_KEYSTORE_ALIAS -destkeystore YOUR_KEYSTORE_NAME.jks
</code></pre>

<p><br>
In order to use your JKS, just give the proper value to the following OpenVidu Server properties on launch:</p>
<ul>
<li><code>server.ssl.key-store</code>=/PATH/TO/YOUR_KEYSTORE_NAME.jks</li>
<li><code>server.ssl.key-store-password</code>=value_provided_when_generating_jks</li>
<li><code>server.ssl.key-alias</code>=YOUR_KEYSTORE_ALIAS</li>
</ul>
<p><br></p>
<h5 id="example">Example</h5>
<pre><code class="bash">java -jar -Dopenvidu.secret=MY_SECRET -Dserver.ssl.key-store=/opt/openvidu/my_keystore.jks -Dserver.ssl.key-store-password=MY_KEYSTORE_SECRET -Dserver.ssl.key-alias=my_cert_alias openvidu-server-2.5.0.jar
</code></pre>

<p><br></p>
<blockquote>
<p>Remember we provide a super simple way of using a <strong>FREE</strong>, <strong>AUTOMATIC</strong> and 100% <strong>VALID</strong> certificate thanks to Let's Encrypt technology: when deploying your CloudFormation Stack, just fill in the form fields with the values from the column <strong><a href="../../deployment/deploying-aws#4-complete-the-configuration-fields" target="_blank">LET'S ENCRYPT CERTIFICATE</a></strong></p>
</blockquote>
<p><br></p>
<hr />
<h2 id="ubuntu-bionic-limitations">Ubuntu Bionic limitations</h2>
<p>OpenVidu supports <strong>Ubuntu Xenial 16.04</strong> and <strong>Ubuntu Bionic 18.04</strong>. OpenCV filters will not work in Bionic.</p>
<p>Regarding filters explained in <a href="https://openvidu.io/docs/advanced-features/filters/" target="&quot;_blank">Voice and video filters</a> section, this will affect <em>FaceOverlayFilter</em> and <em>ChromaFilter</em>. In fact, no built-in module explained in <a href="https://doc-kurento.readthedocs.io/en/stable/features/kurento_modules.html" target="&quot;_blank">Kurento Docs</a> will work in Ubuntu Bionic (<em>PointerDetectorFilter</em>, <em>CrowdDetectorFilter</em>, <em>PlateDetectorFIlter</em>).</p>
<p><em>ZBarFilter</em> and <em>GStreamer</em> filters work fine in Ubuntu Bionic.</p>
<p><br></p> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../deploying-app/" class="btn btn-xs btn-primary float-right" title="Deploying your OpenVidu app">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../deploying-aws/" class="btn btn-xs btn-primary" title="Deploying OpenVidu on AWS"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/deployment/deploying-ubuntu.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>