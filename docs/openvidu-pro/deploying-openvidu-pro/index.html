---
layout: docs-layout
title: OpenVidu Documentation - Deploying OpenVidu Pro
active: documentation
---

<script src="/js/plugins/jquery.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('Deploying OpenVidu Pro')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('Deploying OpenVidu Pro')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../home/">What is OpenVidu?</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Tutorials</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/">Intro</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-webcomponent/">openvidu-webcomponent</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-hello-world/">openvidu-hello-world</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-library-angular/">openvidu-library-angular</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-react/">openvidu-insecure-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-library-react/">openvidu-library-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-ionic/">openvidu-ionic</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-react-native/">openvidu-react-native</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-electron/">openvidu-electron</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Demos</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-call/">openvidu-call</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-call-react/">openvidu-call-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-call-ionic/">openvidu-call-ionic</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../demos/openvidu-classroom/">openvidu-classroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Cheatsheet</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/join-session/">Join a session</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/leave-session/">Leave a session</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/subscribe-unsubscribe/">Subscribe/Unsubscribe from a stream</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/publish-unpublish/">Publish/Unpublish a stream</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/mute-audio-video/">Mute/Unmute audio and video</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/manage-videos/">Manage video players</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/share-data/">Share data between users</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/send-messages/">Send text messages</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Advanced features</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/recording/">Recording</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/screen-share/">Screen share</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/speech-detection/">Speech detection</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/filters/">Voice and video filters</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Reference Documentation</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-browser/">openvidu-browser API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-java-client/">openvidu-java-client API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-node-client/">openvidu-node-client API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/REST-API/">REST  API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-server-params/">OpenVidu Server configuration</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-server-cdr/">OpenVidu Server CDR</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-server-webhook/">OpenVidu Server Webhook</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Deployment</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../deployment/deploying-aws/">Deploying OpenVidu on AWS</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../deployment/deploying-ubuntu/">Deploying OpenVidu on Ubuntu</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../deployment/deploying-app/">Deploying your OpenVidu app</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../deployment/upgrading/">Upgrading OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Contribute</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/">Troubleshooting / FAQ</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../releases/">Releases</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li  style="width: 100%; display: inline-block"  class="subnav_drop">
        <div><span>OpenVidu Pro</span><a style="all: unset; display: inline"
                        href="/docs/openvidu-pro/">
                        <div id="openvidu-pro-tag" style="float: right; background-color: rgb(0, 136, 170); color: white; font-weight: bold; padding: 0px 5px; border-radius: 3px; font-size: 13px; line-height:21px; font-family: Montserrat, sans-serif;">PRO</div>
                </a></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../">Home</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../openvidu-inspector/">OpenVidu Inspector</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../detailed-session-monitoring/">Detailed session monitoring</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../scalability/">Scalability</a> 
</li>

  

<li class="toctree-l1 current">
        <a class="current" href="./">Deploying OpenVidu Pro</a>  
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../REST-API-pro/">REST API Pro</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h2 id="section-title">Deploying OpenVidu Pro</h2>

<p><br></p>
<ul>
<li><strong><a href="#deploying-openvidu-pro-on-aws">Deploying OpenVidu Pro on AWS</a></strong></li>
<li><strong><a href="#deploying-openvidu-pro-on-premise">Deploying OpenVidu Pro on premise</a></strong></li>
</ul>
<div style="
    display: table;
    border: 2px solid #0088aa9e;
    border-radius: 5px;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 25px;
    padding: 5px 0 5px 0;
    background-color: rgba(0, 136, 170, 0.04);"><div style="display: table-cell; vertical-align: middle">
    <i class="icon ion-android-alert" style="
    font-size: 50px;
    color: #0088aa;
    display: inline-block;
    padding-left: 25%;
"></i></div>
<div style="
    vertical-align: middle;
    display: table-cell;
    padding-left: 20px;
    padding-right: 20px;
    ">
    Before deploying OpenVidu Pro you need to contact us through <a href="/commercial" target="_blank"><strong>Commercial page</strong></a> to get the credentials you will need during the deployment process
</div>
</div>

<p><br></p>
<hr />
<h2 id="deploying-openvidu-pro-on-aws">Deploying OpenVidu Pro on AWS</h2>
<p style="font-size: 18px; color: #7a7a7a; margin-top: 30px; padding: 4px;">
OpenVidu Pro is available through <strong>Amazon Web Services</strong> (you will need an <a href="https://portal.aws.amazon.com/billing/signup?redirect_url=https%3A%2F%2Faws.amazon.com%2Fregistration-confirmation#/start" target="_blank">AWS account</a>)
</p>

<h3 id="1-steps-towards-configuration">1) Steps towards configuration</h3>
<p><br></p>
<h5 id="a-access-to-the-console-of-aws-cloud-formation">A) Access to the console of AWS Cloud Formation</h5>
<p><p><a href="https://console.aws.amazon.com/cloudformation" class="btn btn-xs btn-primary" title="Developing OpenVidu" target="_blank">Go to CloudFormation<span class="icon icon-circle-arrow-right"></span></a></p></p>
<p><br></p>
<h5 id="b-click-on-create-stack">B) Click on <em>Create Stack</em></h5>
<p><p>
    <img class="img-responsive deploy-img" style="max-height: 400px" src="/img/docs/deployment/CF_newstack.png">
  </p></p>
<p><br></p>
<h5 id="c-option-specify-an-amazon-s3-template-url-with-the-following-url">C) Option <em>Specify an Amazon S3 template URL</em> with the following URL</h5>
<p><code id="code-2">https://s3-eu-west-1.amazonaws.com/aws.openvidu.io/cfn-OpenViduServerPro-cluster-latest.yaml</code>
  <button id="btn-copy-2" class="btn-xs btn-primary btn-copy-code hidden-xs" data-toggle="tooltip" data-placement="button"
                                title="Copy to Clipboard">Copy</button></p>
<p><p>
    <img class="img-responsive deploy-img" src="/img/docs/deployment/CF_url.png">
  </p></p>
<p><br></p>
<hr />
<h3 id="2-configure-your-openvidu-server-pro">2) Configure your OpenVidu Server Pro</h3>
<p>Fill each section of the form with the appropriate values as stated below.</p>
<h4 id="stack-name">Stack name</h4>
<p>The name of your deployment</p>
<h4 id="ssl-certificate-configuration">SSL Certificate Configuration</h4>
<p>This is the kind of certificate you will be using in your deployment. Three different options are offered:</p>
<ul>
<li><strong>selfsigned</strong>: use a selfsigned certificate. This options is meant for testing and developing environments. Leave the rest of the fields with their default value</li>
</ul>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro6" href="/img/docs/openvidu-pro/marketplace/marketSelfsigned.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketSelfsigned.png"/></a>
    </div>
</div>

<ul>
<li><strong>letsencrypt</strong>: use an automatic certificate by Let's Encrypt. This way you don't have to worry about providing your own certificate. You simply have to enter an email account where Let's Encrypt will send its messages, your fully qualified domain name and one AWS Elastic IP for the same region you selected before (<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-allocating" target="_blank">allocate one if you don't have it</a>). Of course, <strong>you will need to register this Elastic IP in your DNS hosting service and associate it with your fully qualified domain name</strong>. Only after this association between the Elastic IP and your domain name is effective your deployment with Let's Encrypt will work fine.</li>
</ul>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro7" href="/img/docs/openvidu-pro/marketplace/marketLetsencrypt.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketLetsencrypt.png"/></a>
    </div>
</div>

<ul>
<li><strong>owncert</strong>: use your own certificate. You must provide one AWS Elastic IP for the same region you selected before (<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-allocating" target="_blank">allocate one if you don't have it</a>), and your public certificate and private key, both accessible through uris (an Amazon S3 bucket is the best way to do it). Leave the default values for <em>Email</em> and <em>Fully qualified domain name</em> fields.</li>
</ul>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro8" href="/img/docs/openvidu-pro/marketplace/marketOwncert.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketOwncert.png"/></a>
    </div>
</div>

<h4 id="openvidu-configuration">OpenVidu Configuration</h4>
<p>These fields respectively configure different <a href="https://openvidu.io/docs/reference-docs/openvidu-server-params/" target="_blank">system properties</a> of OpenVidu Server.</p>
<p>Besides, you'll find two fields for OpenVidu Pro credentials (<em>OpenViduProUsername</em> and <em>OpenViduProPassword</em>). We provide those credentials for you and with them you'll be able to access the OpenVidu Pro artifact (contact us through <a href="/commercial" target="_blank"><strong>Commercial page</strong></a> to get them).</p>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro9" href="/img/docs/openvidu-pro/marketplace/marketOpenviduconf.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketOpenviduconf.png"/></a>
    </div>
</div>

<blockquote>
<p>If you want to enable <a href="../../reference-docs/openvidu-server-webhook/" target="_blank">OpenVidu Webhook module</a> by setting <strong>OpenViduWebhook</strong> field to true, your endpoint defined in field <strong>OpenViduWebhookEndpoint</strong> will probably be secured in some way. The syntax for the webhook header (field <strong>OpenViduWebhookHeaders</strong>) should be used to provide the security credentials. For example:</p>
<p><code>Authorization: Basic T1BFTlZJRFVBUFA6TVlfU0VDUkVU</code></p>
<p>for a basic auth token.</p>
</blockquote>
<h4 id="openvidu-security-group">Openvidu Security Group</h4>
<p>These fields allow you to limit the IPs that will be able to connect to OpenVidu Server Pro.</p>
<blockquote>
<p><strong>WARNING</strong>: be careful when limiting these IP ranges</p>
<ul>
<li><strong>Port 4443 access Range</strong>: OpenVidu Server Pro REST API and client access point. This should be set to <code>0.0.0.0/0</code> if you want any client to be able to use your deployment</li>
<li><strong>Port 3478 access Range</strong>: TURN server port. This should be set to <code>0.0.0.0/0</code> if you want any client to be able to use your deployment, as you never know which user might need a TURN connection to be able to send and receive media</li>
<li><strong>SSH Port access Range</strong> can be limited as you want, as it provides SSH access to the server with the proper private key through port 22</li>
<li><strong>HTTPS and HTTP (ports 443 and 80) access Range</strong>: HTTPS access range will determine the directions able to connect to Kibana dashboard. If you are using Let's Encrypt SSL configuration, set HTTP access range to <code>0.0.0.0/0</code>, as Let's Encrypt will need to access your server through port 80.</li>
<li><strong>UDP Port access Range</strong> and <strong>TCP Port access Range</strong>: limits the clients that will be able to establish TCP and UDP connections to your OpenVidu Server Pro. So again, if you want to provide service to any client these should be set to <code>0.0.0.0/0</code></li>
<li><strong>MinOpenPort</strong> and <strong>MaxOpenPort</strong>: determine what ports will be available to establish the media connections, so the generous default value is a good choice. If you change the values leaving out any of the previously stated ports, the deployment may fail</li>
</ul>
</blockquote>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro10" href="/img/docs/openvidu-pro/marketplace/marketSecurity.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketSecurity.png"/></a>
    </div>
</div>

<h4 id="kibana-dashboard">Kibana Dashboard</h4>
<p>Set the user and password for accessing Kibana dashboard.</p>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro11" href="/img/docs/openvidu-pro/marketplace/marketKibana.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketKibana.png"/></a>
    </div>
</div>

<h4 id="networking-info">Networking info</h4>
<p>Because Kurento Media Server cluster runs in an Autoscaling Group this CloudFormation template will create a VPC and a Subnet with all they need to provide internet access to the instances and public IPs. Then all the instances will be connected to this VPC.</p>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro11" href="/img/docs/openvidu-pro/marketplace/marketNetworkingOptions.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketNetworkingOptions.png"/></a>
    </div>
</div>

<h4 id="clustering-options">Clustering Options</h4>
<p>How many Kurento Media Servers do you want to deploy? Default to 1. Keep in mind AWS has limits to the amount of instances you can launch in EC2. Also, you will pay for every instance individually.</p>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro11" href="/img/docs/openvidu-pro/marketplace/marketClusteringOptions.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketClusteringOptions.png"/></a>
    </div>
</div>

<h4 id="other-parameters">Other parameters</h4>
<p>Choose the size of your instance (see <a href="../../troubleshooting/#9-which-is-the-current-status-of-openvidu-regarding-performance-scalability-and-fault-tolerance" target="_blank">OpenVidu performance FAQ</a>) and a Key Pair (<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#having-ec2-create-your-key-pair" target="_blank">create one if you don't have any</a>).</p>
<p>You can choose different sizes for OpenVidu Server machine and KMS machines.</p>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro12" href="/img/docs/openvidu-pro/marketplace/marketOthers.png"><img class="img-responsive img-pro img-pro-small" src="/img/docs/openvidu-pro/marketplace/marketOthers.png"/></a>
    </div>
</div>

<p>You are ready to go. Click on <strong>Next</strong> ðŸ¡† <strong>Next</strong> and complete the following point to deploy OpenVidu Pro cluster.</p>
<h4 id="roles">Roles</h4>
<p>Before you can deploy the stack, you have to agree that this template will create Roles which will perform request to AWS API in you behalf from the instances. The Role's policy is only <em>ec2:DescribeInstances</em>, is the minimum required permission and it's needed to discover other cluster members. Every instance is tagged and the query to the API will simply filter by this tag.</p>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro11" href="/img/docs/openvidu-pro/marketplace/marketCapabilities.png"><img class="img-responsive img-pro" src="/img/docs/openvidu-pro/marketplace/marketCapabilities.png"/></a>
    </div>
</div>

<p>After clicking the checkbox, you can now finally press <strong>Create stack</strong> button and deploy OpenVidu Pro cluster.</p>
<p><br></p>
<hr />
<h3 id="3-connecting-to-your-openvidu-server-pro">3) Connecting to your OpenVidu Server Pro</h3>
<p>Now you just have to wait until Stack status is set to <code>CREATE_COMPLETE</code>. Then you will have a production-ready setup with all the advanced features provided by OpenVidu Pro.</p>
<blockquote>
<p>If status reaches <code>CREATE_FAILED</code>, check out <a href="../../troubleshooting/#13-deploying-openvidu-in-aws-is-failing" target="_blank">this FAQ</a></p>
</blockquote>
<p><br></p>
<p>To connect to <strong>OpenVidu Inspector</strong> and the <strong>Kibana dashboard</strong>, simply access <code>Outputs</code> tab. There you will have both URLs to access both services.</p>
<div class="row">
    <div style="margin: 5px 15px 35px 15px">
        <a data-fancybox="gallery-pro12" href="/img/docs/openvidu-pro/marketplace/marketOutputs.png"><img class="img-responsive img-pro" src="/img/docs/openvidu-pro/marketplace/marketOutputs.png"/></a>
    </div>
</div>

<p>To consume <a href="../../reference-docs/REST-API/" target="_blank">OpenVidu REST API</a>, use URL <code>https://OPENVIDUPRO_PUBLIC_IP:4443</code>. For example, in the image above that would be <code>https://ec2-34-244-193-135.eu-west-1.compute.amazonaws.com:4443</code></p>
<p><br></p>
<blockquote>
<p>Regarding the compatibility of <strong>openvidu-browser</strong> and <strong>server SDKs</strong> (REST API, openvidu-java-client, openvidu-node-client), use the same version numbers as stated for openvidu-server in <a href="../../releases/" target="_blank">Releases page</a>. For example, for OpenVidu Pro 2.10.0, use the artifact versions indicated in <a href="../../releases#2100" target="_blank">2.10.0 release table</a></p>
</blockquote>
<p><br></p>
<hr />
<h2 id="deploying-openvidu-pro-on-premise">Deploying OpenVidu Pro on premise</h2>
<p style="font-size: 18px; color: #7a7a7a; margin-top: 30px; padding: 4px;">
OpenVidu Pro is available through <strong>Ansible</strong> for deploying on premise.
</p>

<h3 id="1-prerequisites">1) Prerequisites</h3>
<h4 id="in-your-local-machine">In your local machine</h4>
<p>You need Ansible installed on your laptop or wherever you are running this playbook. You can install Ansible with:</p>
<pre><code class="bash">sudo apt-add-repository -y ppa:ansible/ansible
sudo apt-get update
sudo apt-get install -y ansible
</code></pre>

<p>Besides you need to install this role for Docker:</p>
<pre><code class="bash">sudo ansible-galaxy install -p /etc/ansible/roles geerlingguy.docker
</code></pre>

<h4 id="in-your-cluster-machines">In your cluster machines</h4>
<p>You must have <strong>at least 2 different instances</strong> with a clean installation of <strong>Ubuntu 16.04</strong></p>
<ul>
<li>One instance for the <strong>OpenVidu Server Pro</strong> node</li>
<li>One instance for a <strong>Media Server</strong> node</li>
</ul>
<p>You can actually have as many instances as you want for Media Server nodes. The number of Media Server nodes determines the size of your cluster: the more Media Server nodes, the more video sessions your cluster will be able to handle.</p>
<p>Besides, be sure to meet the following criteria in your cluster instances:</p>
<ul>
<li>Have at least a minimum of <strong>2 CPUs and 8GB of RAM</strong>, and a generous network bandwidth</li>
<li>Have <strong>Python 3</strong> installed (check version with <code>python3 --version</code>)</li>
</ul>
<p><br></p>
<hr />
<h3 id="2-network-requirements">2) Network requirements</h3>
<p>These ports need to be opened for each type of instance in your cluster:</p>
<h4 id="openvidu-server-pro-instance">OpenVidu Server Pro instance</h4>
<ul>
<li><strong>4443 TCP</strong> (OpenVidu Server listens on port 4443 by default)</li>
<li><strong>3478 TCP</strong> (coturn listens on port 3478 by default)</li>
<li><strong>49152 - 65535 UDP</strong> (these ports are strongly recommended to be opened, as WebRTC randomly exchanges media through any of them and coturn server may need them when relaying media streams)</li>
</ul>
<h4 id="media-server-instances">Media Server instance(s)</h4>
<ul>
<li><strong>8888 TCP</strong> (Kurento Media Server listens on port 8888 by default)</li>
<li><strong>1024 - 65535 UDP</strong> (WebRTC connections with clients may be established using a random port inside this range)</li>
<li><strong>1024 - 65535 TCP</strong> (WebRTC connections with clients may be established using a random port inside this range, if UDP can't be used)</li>
</ul>
<p><br></p>
<blockquote>
<p><strong>NOTE</strong>: in production environments you will have to configure a <strong>fully qualified domain name</strong> in your <strong>OpenVidu Server Pro instance</strong>. You can register a FQDN for the OpenVidu Server Pro instance using a DNS server, pairing the OpenVidu Server Pro instance public IP with your domain name. This is the only way to later set up a valid certificate in OpenVidu Server Pro instance, so clients don't get a warning when connecting to a video session</p>
</blockquote>
<p><br></p>
<hr />
<h3 id="3-ansibles-inventory">3) Ansible's inventory</h3>
<p>Ansible uses an inventory file to know which instances connect to and how to configure them. Let's clone OpenVidu's Ansible repository to modify this file and prepare the cluster deployment:</p>
<pre><code class="bash">git clone https://github.com/OpenVidu/openvidu-pro-clustering
git checkout v2.11.0
cd openvidu-pro-clustering # This will be our working directory from now on
</code></pre>

<p>File <code>./inventory.yaml</code> defines our cluster instances. By default it is ready to use a single Media Server instance, but you can add as many <em>kurento-server</em> hosts as you want, as you can see in the commented lines.</p>
<pre><code class="yaml">---
all:
  hosts:
    openvidu-server:
      ansible_host: OPENVIDU_SERVER_IP
    media-server-1:
      ansible_host: MEDIA_SERVER_1_IP
    # media-server-2:
    #   ansible_host: MEDIA_SERVER_2_IP
    # ...
    # media-server-N:
    #   ansible_host: MEDIA_SERVER_N_IP
  vars:
      ansible_become: true
      ansible_user: USER
      ansible_ssh_private_key_file: /PATH/TO/SSH_public_key
  children:
    media-servers:
      hosts:
        media-server-1:
      #   media-server-2:
      #   ...
      #   media-server-N:
    openvidu:
      hosts:
        openvidu-server:
</code></pre>

<p>You need to change:</p>
<ul>
<li><strong>Variable <code>ansible_user</code></strong>: the user you use to connect to the instances, i.e. Ubuntu Server Cloud uses <code>ubuntu</code>. If you've deployed those instances in OpenStack using Ubuntu Official Image, <code>ubuntu</code> will be the user.</li>
<li><strong>Variable <code>ansible_ssh_private_key_file</code></strong>: path to the RSA private key you use to connect to your instances.</li>
<li><strong>Value <code>OPENVIDU_SERVER_IP</code></strong>: public IP to connect to the OpenVidu Server Pro instance.</li>
<li><strong>Value <code>MEDIA_SERVER_X_IP</code></strong>: public IP to connect to the Kurento Media Server instance(s).</li>
</ul>
<p><br></p>
<hr />
<h3 id="4-ansibles-variables">4) Ansible's variables</h3>
<p>In <code>./group_vars/all</code> file you will find all the parameters used to configure the infrastructure. Two of them will be the credentials needed to deploy OpenVidu Pro (contact us through <a href="/commercial" target="_blank"><strong>Commercial page</strong></a> to get them)</p>
<p><br></p>
<blockquote>
<p><strong>WARNING</strong>: go through all variables carefully as some of them do not have default values, as they are dependant on your infrastructure. Be also very careful to not delete any of them, as the deployment will fail if any variable is missing. For further information about many of them check out <a href="../../reference-docs/openvidu-server-params/" target="_blank">OpenVidu Server params section</a></p>
</blockquote>
<p><br></p>
<hr />
<h3 id="5-deployment">5) Deployment</h3>
<p>First time you connect to an instance through SSH, it will ask you to confirm the instance's fingerprint, so try to <strong>login into all the instances</strong> to accept the fingerprint so Ansible can automatically do the job.</p>
<pre><code class="bash">ssh -i /PATH/TO/SSH_public_key USER@INSTANCE_IP
</code></pre>

<p>Check that Ansible can access the instances. The following command (run it in the repository root folder) will perform a <em>ping</em> to all the instances declared in <code>./inventory.yaml</code> file. You should see a successful log message for each one of them if everything is correct.</p>
<pre><code class="bash">ansible -i inventory.yaml -m ping all
</code></pre>

<p>Finally, launch the Ansible's playbook to deploy your cluster:</p>
<pre><code class="bash">ansible-playbook -i inventory.yaml play.yaml
</code></pre>

<p>The playbook command will end with the following log:</p>
<pre><code class="console">*********************************************************
 TASK [check-app-ready : check every 60 seconds for 10 attempts if openvidu is up and ready]
*********************************************************
FAILED - RETRYING: check every 60 seconds for 10 attempts if openvidu is up and ready (10 retries left).
FAILED - RETRYING: check every 60 seconds for 10 attempts if openvidu is up and ready ( 9 retries left).
ok: [openvidu-server]

*********************************************************
 PLAY RECAP
*********************************************************
kurento-server-1       : ok=21  changed=18  unreachable=0   failed=0   skipped=0   rescued=0   ignored=0
kurento-server-2       : ok=21  changed=18  unreachable=0   failed=0   skipped=0   rescued=0   ignored=0
openvidu-server        : ok=53  changed=43  unreachable=0   failed=0   skipped=14  rescued=0   ignored=0
</code></pre>

<p>Once the playbook command has successfully finished, you will have OpenVidu Pro services accessible through the following URLs:</p>
<ul>
<li><strong>OpenVidu Pro Inspector</strong> (<a href="../../openvidu-pro/openvidu-inspector/" target="_blank">more info</a>) : <code>https://YOUR_DNS_NAME/inspector</code></li>
<li><strong>OpenVidu Pro Kibana dashboard</strong> (<a href="../../openvidu-pro/detailed-session-monitoring/" target="_blank">more info</a>) :  <code>https://YOUR_DNS_NAME/kibana</code></li>
<li><strong>OpenVidu Pro REST endpoint</strong> (<a href="../../openvidu-pro/REST-API-pro/" target="_blank">more info</a>) : <code>https://YOUR_DNS_NAME:4443</code> (or the port you defined in property <code>openvidu_server_port</code> in file <code>./group_vars/all</code>)</li>
</ul>
<p><br></p>
<blockquote>
<p>Regarding the compatibility of <strong>openvidu-browser</strong> and <strong>server SDKs</strong> (REST API, openvidu-java-client, openvidu-node-client), use the same version numbers as stated for openvidu-server in <a href="../../releases/" target="_blank">Releases page</a>. For example, for OpenVidu Pro 2.10.0, use the artifact versions indicated in <a href="../../releases#2100" target="_blank">2.10.0 release table</a></p>
</blockquote>
<p><br></p>
<hr />
<h3 id="troubleshooting">Troubleshooting</h3>
<p>If you get stuck deploying this playbook remember we're here to help you. So please, when you open a new issue provide the <strong>full Ansible output log</strong> and, if you were able to deploy OpenVidu Server Pro role, please provide also the content of the following files of OpenVidu Server pro instance:</p>
<ul>
<li>Instance boot log: <code>/var/log/cloud-init-output.log</code></li>
<li>OpenVidu Server Pro JAR artifact log: <code>sudo journalctl -u openvidu</code> (this command will output the log)</li>
</ul>
<p><br></p>
<p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>
<script>
  $().fancybox({
    selector : '[data-fancybox]',
    infobar : true,
    arrows : false,
    loop: true,
    protect: true,
    transitionEffect: 'slide',
    buttons : [
        'close'
    ],
    clickOutside : 'close',
    clickSlide   : 'close',
  });
</script></p>
<p><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/brands.css" integrity="sha384-Px1uYmw7+bCkOsNAiAV5nxGKJ0Ixn5nChyW8lCK1Li1ic9nbO5pC/iXaq27X5ENt" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/fontawesome.css" integrity="sha384-BzCy2fixOYd0HObpx3GMefNqdbA7Qjcc91RgYeDjrHTIEXqiF00jKvgQG0+zY/7I" crossorigin="anonymous"></p>
<p><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>
<link rel="stylesheet" type="text/css" href="/css/slick-theme.css"/>
<script type="text/javascript" src="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.min.js"></script></p>
<script>
    $('.pro-gallery').slick({
      autoplay: true,
      arrows: false,
      autoplaySpeed: 3000,
      dots: true,
      infinite: true,
      pauseOnHover: false,
      pauseOnFocus: false,
      responsive: [
      {
        breakpoint: 768,
        settings: {
          arrows: false,
          slidesToShow: 1
        }
      },
    ]
    });
    $('.pro-gallery-steps').slick({
      autoplay: false,
      arrows: true,
      prevArrow: '<div class="slick-btn slick-btn-prev"><i class="icon ion-chevron-left"></i></div>',
      nextArrow: '<div class="slick-btn slick-btn-next"><i class="icon ion-chevron-right"></i></div>',
      dots: true,
      infinite: false,
      responsive: [
      {
        breakpoint: 768,
        settings: {
          arrows: true,
          slidesToShow: 1
        }
      },
    ]
    });
</script>

<script src="/js/copy-btn.js"></script> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../REST-API-pro/" class="btn btn-xs btn-primary float-right" title="REST API Pro">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../scalability/" class="btn btn-xs btn-primary" title="Scalability"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/openvidu-pro/deploying-openvidu-pro.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>